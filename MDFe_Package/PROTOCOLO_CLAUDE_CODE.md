# ğŸ¤– PROTOCOLO DE USO - Claude Code

## ğŸ¯ **COMANDO AUTOMÃTICO**

Para implementaÃ§Ã£o automÃ¡tica do MDFe em qualquer projeto ASP.NET, use o comando:

```
"leia o MDFe_Package"
```

## âš¡ **EXECUÃ‡ÃƒO AUTOMÃTICA**

Ao receber o comando acima, o Claude Code irÃ¡ **automaticamente**:

### **1ï¸âƒ£ ANÃLISE INICIAL (2-3 minutos)**
- âœ… Ler toda documentaÃ§Ã£o do MDFe_Package
- âœ… Analisar estrutura do projeto atual
- âœ… Identificar arquitetura e padrÃµes utilizados
- âœ… Mapear cadastros e entidades existentes

### **2ï¸âƒ£ PLANEJAMENTO AUTOMÃTICO**
- âœ… Criar plano de implementaÃ§Ã£o completo
- âœ… Definir adaptaÃ§Ãµes necessÃ¡rias aos cadastros
- âœ… Identificar migraÃ§Ãµes de banco necessÃ¡rias
- âœ… Planejar configuraÃ§Ãµes e endpoints

### **3ï¸âƒ£ IMPLEMENTAÃ‡ÃƒO DIRETA**
- âœ… Instalar DLLs ACBr na arquitetura correta
- âœ… Configurar certificados e ambiente SEFAZ
- âœ… Adaptar MDFeService aos cadastros do projeto
- âœ… Criar/adaptar Controllers e endpoints API
- âœ… Configurar templates INI dinÃ¢micos
- âœ… Implementar mapeamentos cÃ³digo/descriÃ§Ã£o
- âœ… Criar migraÃ§Ãµes de banco se necessÃ¡rio
- âœ… Configurar injeÃ§Ã£o de dependÃªncia
- âœ… Testar fluxo completo de emissÃ£o

## ğŸš« **COMPORTAMENTO GARANTIDO**

### **SEM INTERAÃ‡ÃƒO MANUAL:**
- âŒ Zero perguntas sobre "como implementar"
- âŒ Zero perguntas sobre "onde colocar"
- âŒ Zero perguntas sobre "qual abordagem usar"
- âŒ Zero solicitaÃ§Ãµes de esclarecimento

### **COM EXECUÃ‡ÃƒO DIRETA:**
- âœ… ImplementaÃ§Ã£o baseada na documentaÃ§Ã£o do pacote
- âœ… AdaptaÃ§Ã£o aos padrÃµes do projeto existente
- âœ… Seguimento da ordem exata dos mÃ©todos ACBr
- âœ… Uso correto dos cÃ³digos numÃ©ricos SEFAZ
- âœ… IntegraÃ§Ã£o com cadastros prÃ©-definidos

## ğŸ¯ **RESULTADO ESPERADO**

ApÃ³s a execuÃ§Ã£o automÃ¡tica:

### **MDFe Funcionando Completamente:**
- âœ… GeraÃ§Ã£o de MDFe a partir de cadastros
- âœ… TransmissÃ£o para SEFAZ (homologaÃ§Ã£o/produÃ§Ã£o)
- âœ… Consulta por chave de acesso
- âœ… Cancelamento com justificativa
- âœ… Encerramento de viagem
- âœ… Consulta de nÃ£o encerrados
- âœ… Status do serviÃ§o SEFAZ

### **IntegraÃ§Ã£o com Sistema:**
- âœ… Endpoints API prontos para uso
- âœ… SeleÃ§Ã£o por ComboBox (ID dos cadastros)
- âœ… Templates dinÃ¢micos com dados do banco
- âœ… Mapeamento correto cÃ³digo/descriÃ§Ã£o
- âœ… ValidaÃ§Ãµes e tratamento de erros

### **ConfiguraÃ§Ã£o Completa:**
- âœ… DLLs ACBr instaladas e funcionando
- âœ… Certificados digitais configurados
- âœ… Ambientes homologaÃ§Ã£o/produÃ§Ã£o
- âœ… Schemas XSD para validaÃ§Ã£o local
- âœ… Logging e monitoramento

## ğŸ“‹ **PRÃ‰-REQUISITOS**

Para funcionamento perfeito:

### **Projeto ASP.NET:**
- âœ… .NET 6.0+ ou .NET Framework 4.8+
- âœ… Entity Framework ou Dapper configurado
- âœ… Cadastros bÃ¡sicos (Emitente, VeÃ­culo, Condutor)
- âœ… InjeÃ§Ã£o de dependÃªncia ativa

### **Infraestrutura:**
- âœ… Windows Server ou desktop
- âœ… Certificado digital A1 ou A3
- âœ… Conectividade com SEFAZ
- âœ… Banco de dados ativo

## ğŸš€ **EXEMPLO DE USO**

```
Desenvolvedor: "leia o MDFe_Package"

Claude Code: [Inicia automaticamente]
- Lendo documentaÃ§Ã£o...
- Analisando projeto...
- Criando plano...
- Implementando MDFeService...
- Configurando endpoints...
- Testando emissÃ£o...
- âœ… MDFe implementado com sucesso!
```

## âš–ï¸ **GARANTIAS**

### **âœ… O QUE SERÃ FEITO:**
- ImplementaÃ§Ã£o completa e funcional
- Seguimento rigoroso da documentaÃ§Ã£o
- AdaptaÃ§Ã£o aos padrÃµes do projeto
- Zero configuraÃ§Ã£o manual necessÃ¡ria

### **âŒ O QUE NÃƒO SERÃ FEITO:**
- Perguntas desnecessÃ¡rias
- ImplementaÃ§Ãµes incompletas
- SoluÃ§Ãµes genÃ©ricas sem adaptaÃ§Ã£o
- CÃ³digo sem seguir os padrÃµes ACBr

---

## ğŸ† **CONCLUSÃƒO**

Este protocolo garante **implementaÃ§Ã£o automÃ¡tica, completa e funcional** do MDFe em qualquer projeto ASP.NET, seguindo exatamente as especificaÃ§Ãµes da ACBrLibMDFe v1.2.2.337 e Nota TÃ©cnica 2025.001.

**Basta uma mensagem: implementaÃ§Ã£o completa garantida!** ğŸš€

---

*Protocolo criado para facilitar implementaÃ§Ãµes MDFe com Claude Code - Setembro 2025*